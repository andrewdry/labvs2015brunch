{"version":3,"sources":["app/components/App.jsx","app/components/Channel.jsx","app/components/Fetcher.jsx","app/components/Guide.jsx","app/components/Nav.jsx","app/components/NavItem.jsx","app/components/Player.jsx","app/components/Program.jsx","app/components/Tracker.jsx","app/initialize.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3PA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7HA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/JA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5GA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AAAA","file":"public/app.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Fetcher = require('./Fetcher');\n\nvar _Fetcher2 = _interopRequireDefault(_Fetcher);\n\nvar _Tracker = require('./Tracker');\n\nvar _Tracker2 = _interopRequireDefault(_Tracker);\n\nvar _Channel = require('./Channel');\n\nvar _Channel2 = _interopRequireDefault(_Channel);\n\nvar _Nav = require('./Nav');\n\nvar _Nav2 = _interopRequireDefault(_Nav);\n\nvar _Player = require('./Player');\n\nvar _Player2 = _interopRequireDefault(_Player);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar Promise = require('bluebird');\n\nexports['default'] = _react2['default'].createClass({\n    displayName: 'App',\n\n    getInitialState: function () {\n        function getInitialState() {\n            return {\n                channels: [],\n                programs: [],\n                schedule: [],\n                player: {\n                    cmd: \"pause\", // \"play\", \"pause\"\n                    program: {},\n                    src: \"http://sverigesradio.se/topsy/direkt/132.mp3\"\n                },\n                ui: {\n                    selectedchannelid: null,\n                    selectedchannelimage: null,\n                    display: \"guide\"\n                }\n            };\n        }\n\n        return getInitialState;\n    }(),\n\n    _cache: {\n        channels: [],\n        programs: [],\n        schedule: [],\n        player: {\n            cmd: \"pause\", // \"play\", \"pause\"\n            program: {},\n            src: \"http://sverigesradio.se/topsy/direkt/132.mp3\"\n        },\n        ui: {\n            selectedchannelid: null,\n            selectedchannelimage: null,\n            display: \"guide\"\n        }\n    },\n\n    // API functions\n    get: function () {\n        function get(url, prop) {\n            return new Promise(function (resolve, reject) {\n                var fetcher = (0, _Fetcher2['default'])(url).then(function (val) {\n                    var r = val[prop];\n                    resolve(r);\n                })['catch'](function (err) {\n                    reject(err);\n                });\n            });\n        }\n\n        return get;\n    }(),\n    getChannels: function () {\n        function getChannels() {\n            var usefilter = true;\n            var filter = usefilter ? \"&filter=channel.channeltype&filtervalue=Rikskanal\" : \"\";\n            var url = \"http://api.sr.se/api/v2/channels?pagination=false&format=json\" + filter;\n            var _self = this;\n            this.get(url, \"channels\").then(function (val) {\n                _self.updateState({ channels: val });\n            });\n        }\n\n        return getChannels;\n    }(),\n\n    getProgramsForChannel: function () {\n        function getProgramsForChannel(channel) {\n            var _this = this;\n\n            // ToDo internal cache check\n            if (this._cache.ui.selectedchannelid === channel.id) {\n                return;\n            }\n            var _self = this;\n            var urls = [{ u: \"http://api.sr.se/api/v2/programs/index?channelid=\" + channel.id + \"&format=json&pagination=false\", v: \"programs\" }, { u: channel.scheduleurl + \"&format=json&pagination=false\", v: \"schedule\" }];\n\n            var _loop = function () {\n                function _loop() {\n                    var act = urls[i];\n                    _this.get(act.u, act.v).then(function (val) {\n                        var obj = {};\n                        obj[act.v] = val;\n                        var ui = _self._cache.ui;\n                        ui.selectedchannelid = channel.id;\n                        ui.selectedchannelimage = channel.image;\n                        ui.display = \"guide\"; // always reset\n                        _self.updateState(_self.mergeObjects({}, obj, { ui: ui }));\n                    });\n                }\n\n                return _loop;\n            }();\n\n            for (var i = 0; i < urls.length; i++) {\n                _loop();\n            }\n        }\n\n        return getProgramsForChannel;\n    }(),\n\n    // ie Object.assign function\n    mergeObjects: function () {\n        function mergeObjects() {\n            var resObj = {};\n            for (var i = 0; i < arguments.length; i += 1) {\n                var obj = arguments[i],\n                    keys = Object.keys(obj);\n                for (var j = 0; j < keys.length; j += 1) {\n                    resObj[keys[j]] = obj[keys[j]];\n                }\n            }\n            return resObj;\n        }\n\n        return mergeObjects;\n    }(),\n\n    // State updater\n    updateState: function () {\n        function updateState(obj) {\n            this._cache = this.mergeObjects(this._cache, obj);\n            this.setState(obj);\n        }\n\n        return updateState;\n    }(),\n    // Update player\n    updatePlayer: function () {\n        function updatePlayer(obj) {\n            var player = this._cache.player;\n            var c = this._cache;\n            // Deal with pausing\n            if (obj.cmd == \"pause\") {\n                player.cmd = \"pause\";\n                this.updateState({ player: player });\n                return;\n            }\n\n            // find channel live src from _cache\n            var url = c.channels.filter(function (channel) {\n                return c.ui.selectedchannelid == channel.id;\n            })[0].liveaudio.url;\n\n            var update = false;\n            // play or pause\n            if (obj.cmd != player.cmd) {\n                player.cmd = obj.cmd;\n                update = true;\n            }\n            if (url != player.src) {\n                player.src = url;\n                update = true;\n            }\n\n            if (update) {\n                player.program = obj.player;\n                this.updateState({ player: player });\n            }\n        }\n\n        return updatePlayer;\n    }(),\n    postTrackToApi: _Tracker2['default'],\n    tracker: function () {\n        function tracker() {\n            var c = this._cache;\n            this.postTrackToApi(c.ui.selectedchannelid, c.ui.selectedchannelimage, function (res) {\n                console.log('tracking');\n            });\n        }\n\n        return tracker;\n    }(),\n    componentWillMount: function () {\n        function componentWillMount() {\n            this.getChannels();\n        }\n\n        return componentWillMount;\n    }(),\n\n    render: function () {\n        function render() {\n            var s = this._cache;\n            var navcontent = s.channels.length > 0 ? _react2['default'].createElement(_Nav2['default'], { channels: s.channels, updateState: this.getProgramsForChannel, className: 'nav' }) : '';\n            var bodycontent = s.programs.length > 0 && s.ui.selectedchannelid ? _react2['default'].createElement(_Channel2['default'], { programs: s.programs, schedule: s.schedule, ui: s.ui, update: this.updateState, updateplayer: this.updatePlayer }) : \"\";\n\n            return _react2['default'].createElement(\n                'div',\n                null,\n                _react2['default'].createElement(\n                    'nav',\n                    null,\n                    navcontent\n                ),\n                _react2['default'].createElement(\n                    'div',\n                    { className: 'audio-player' },\n                    _react2['default'].createElement(_Player2['default'], { player: s.player, ui: s.ui, updateplayer: this.updatePlayer, tracker: this.tracker })\n                ),\n                _react2['default'].createElement(\n                    'section',\n                    { className: 'content-body' },\n                    bodycontent\n                )\n            );\n        }\n\n        return render;\n    }()\n});\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Program = require('./Program');\n\nvar _Program2 = _interopRequireDefault(_Program);\n\nvar _Guide = require('./Guide');\n\nvar _Guide2 = _interopRequireDefault(_Guide);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = _react2['default'].createClass({\n    displayName: 'Channel',\n\n    // return channels array ui fixed\n    getInitialState: function () {\n        function getInitialState() {\n            return {};\n        }\n\n        return getInitialState;\n    }(),\n    toggle: function () {\n        function toggle(data) {\n            var ui = this.props.ui;\n            ui.display = data;\n            this.props.update({ ui: ui });\n        }\n\n        return toggle;\n    }(),\n    render: function () {\n        function render() {\n            var _this = this;\n\n            var programs = this.props.programs;\n            var schedule = this.props.schedule;\n            var player = this.props.updateplayer;\n            var now = this.props.now;\n            var content = this.props.ui.display === \"guide\" ? _react2['default'].createElement(_Guide2['default'], { schedule: schedule, updateplayer: player, now: now }) : _react2['default'].createElement(_Program2['default'], { programs: programs });\n            return _react2['default'].createElement(\n                'div',\n                null,\n                _react2['default'].createElement(\n                    'div',\n                    { className: 'toggler' },\n                    _react2['default'].createElement('img', { src: this.props.ui.selectedchannelimage, className: 'channelimage' }),\n                    _react2['default'].createElement(\n                        'a',\n                        { onClick: function () {\n                                function onClick() {\n                                    return _this.toggle(\"guide\");\n                                }\n\n                                return onClick;\n                            }(), className: 'active' },\n                        't'\n                    ),\n                    _react2['default'].createElement(\n                        'a',\n                        { onClick: function () {\n                                function onClick() {\n                                    return _this.toggle(\"program\");\n                                }\n\n                                return onClick;\n                            }() },\n                        'p'\n                    )\n                ),\n                content\n            );\n        }\n\n        return render;\n    }()\n});\n","\"use strict\";\n\nmodule.exports = function (url) {\n  return new Promise(function (resolve, reject) {\n\n    var reqListener = function () {\n      function reqListener() {\n        var data = JSON.parse(this.responseText);\n        resolve(data);\n      }\n\n      return reqListener;\n    }();\n\n    var reqError = function () {\n      function reqError(err) {\n        reject('Fetch Error :-S', err);\n      }\n\n      return reqError;\n    }();\n\n    var oReq = new XMLHttpRequest();\n    oReq.addEventListener(\"load\", reqListener);\n    oReq.addEventListener(\"error\", reqError);\n    oReq.open(\"GET\", url, true);\n    oReq.overrideMimeType('application\\/json; charset=utf-8');\n    oReq.send();\n  });\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nexports[\"default\"] = _react2[\"default\"].createClass({\n  displayName: \"Guide\",\n\n  getInitialState: function () {\n    function getInitialState() {\n      return {};\n    }\n\n    return getInitialState;\n  }(),\n  play: function () {\n    function play(obj) {\n      this.props.updateplayer({ player: obj, cmd: \"play\" });\n    }\n\n    return play;\n  }(),\n  guide: function () {\n    function guide() {\n      var _self = this;\n      var parseaspdate = function () {\n        function parseaspdate(str) {\n          var d = /-?\\d+/.exec(str)[0];\n          return new Date(parseInt(d, 10));\n        }\n\n        return parseaspdate;\n      }();\n\n      var guide = (this.props.schedule || []).map(function (s, n) {\n        var start = parseaspdate(s.starttimeutc);\n        var end = parseaspdate(s.endtimeutc);\n        var starthour = (start.getHours() < 10 ? \"0\" : \"\") + start.getHours();\n        var startmin = (start.getMinutes() < 10 ? \"0\" : \"\") + start.getMinutes();\n        var now = _self.props.now ? _self.props.now : new Date();\n        var show = start.getTime() >= now.getTime() || now.getTime() < end.getTime() ? \"\" : \"hide\";\n        var isplaying = start.getTime() <= now.getTime() && end.getTime() > now.getTime();\n        var playbtn = isplaying ? _react2[\"default\"].createElement(\n          \"a\",\n          { href: \"#\", className: \"btn\", onClick: function () {\n              function onClick(e) {\n                e.preventDefault();_self.play(s);\n              }\n\n              return onClick;\n            }() },\n          \" Spela upp \"\n        ) : \"\";\n        var playing = isplaying ? _react2[\"default\"].createElement(\n          \"span\",\n          { className: \"playing\" },\n          \"*** I s\\xE4ndning *** \"\n        ) : \"\";\n        var playimage = isplaying ? _react2[\"default\"].createElement(\"img\", { src: s.imageurl, className: \"playimage\" }) : \"\";\n        // get more data through s.episodeid and api call\n        return _react2[\"default\"].createElement(\n          \"li\",\n          { className: show, key: n },\n          _react2[\"default\"].createElement(\n            \"div\",\n            { className: \"schedule\" },\n            _react2[\"default\"].createElement(\n              \"div\",\n              null,\n              playing\n            ),\n            _react2[\"default\"].createElement(\n              \"span\",\n              { className: \"time\" },\n              starthour,\n              \":\",\n              startmin\n            ),\n            \" | \",\n            _react2[\"default\"].createElement(\n              \"span\",\n              { className: \"title\" },\n              s.title,\n              \" \",\n              s.subtitle\n            ),\n            \" \",\n            _react2[\"default\"].createElement(\n              \"p\",\n              null,\n              s.description\n            ),\n            playbtn\n          )\n        );\n      });\n\n      return guide;\n    }\n\n    return guide;\n  }(),\n  render: function () {\n    function render() {\n      return _react2[\"default\"].createElement(\n        \"div\",\n        { className: \"program-group\" },\n        _react2[\"default\"].createElement(\n          \"ul\",\n          { className: \"guide\" },\n          this.guide()\n        )\n      );\n    }\n\n    return render;\n  }()\n});\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n   value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _NavItem = require('./NavItem');\n\nvar _NavItem2 = _interopRequireDefault(_NavItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = _react2['default'].createClass({\n   displayName: 'Nav',\n\n   getInitialState: function () {\n      function getInitialState() {\n         return {};\n      }\n\n      return getInitialState;\n   }(),\n\n   navItems: function () {\n      function navItems() {\n         var fn = this.props.updateState;\n         return (this.props.channels || []).map(function (c, n) {\n            return _react2['default'].createElement(_NavItem2['default'], { key: n, channel: c, updateState: fn });\n         });\n      }\n\n      return navItems;\n   }(),\n\n   render: function () {\n      function render() {\n         return _react2['default'].createElement(\n            'div',\n            null,\n            this.navItems()\n         );\n      }\n\n      return render;\n   }()\n});\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = _react2['default'].createClass({\n  displayName: 'NavItem',\n\n  navigate: function () {\n    function navigate(e) {\n      e.preventDefault();\n      this.props.updateState(this.props.channel);\n    }\n\n    return navigate;\n  }(),\n  styles: function () {\n    function styles(color) {\n      return {};\n    }\n\n    return styles;\n  }(),\n  defaultProps: { color: 'red' },\n  render: function () {\n    function render() {\n      var c = this.props.channel;\n      return _react2['default'].createElement(\n        'div',\n        { style: this.styles(this.props.color), className: 'navitem' },\n        _react2['default'].createElement(\n          'a',\n          { onClick: this.navigate },\n          _react2['default'].createElement('img', { src: c.image, width: '100%' })\n        )\n      );\n    }\n\n    return render;\n  }()\n});\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nexports[\"default\"] = _react2[\"default\"].createClass({\n    displayName: \"Player\",\n\n    getInitialState: function () {\n        function getInitialState() {\n            return {\n                player: this.props.player,\n                ui: this.props.ui\n            };\n        }\n\n        return getInitialState;\n    }(),\n    hasbeenplayed: false,\n    shouldComponentUpdate: function () {\n        function shouldComponentUpdate(prevProps, prevState) {\n            var a = this.props.player;\n            var b = prevProps.player;\n            var ui = this.props.ui;\n            //console.log(a);\n            var player = this.refs._player; //document.getElementById(\"player\");\n            if (!this.hasbeenplayed && a.cmd == \"play\") {\n                this.hasbeenplayed = true;\n                //console.log(1);\n                return true;\n            }\n            if (player.paused && a.cmd == \"play\") {\n                return true;\n            }\n\n            if (!a.cmd) {\n                //console.log(2);\n                return false;\n            }\n            if (a.cmd != b.cmd || a.cmd == \"pause\" && !player.paused) {\n                //console.log(3);\n                return true;\n            }\n            if (a.src != player.src && a.cmd == \"play\") {\n                //console.log(4);\n                return true;\n            }\n            return false;\n        }\n\n        return shouldComponentUpdate;\n    }(),\n\n    componentDidUpdate: function () {\n        function componentDidUpdate(prevProps, prevState) {\n            var player = this.refs._player; //document.getElementById(\"player\");\n            var p = this.props.player;\n            player.src = p.src;\n            player.load();\n\n            if (p.cmd == \"play\") {\n                player.load();\n                setTimeout(function () {\n                    player.play();\n                }, 800);\n\n                var isplaying = setInterval(function () {\n                    //console.log('in setInterval')\n                    if (!player.paused && !player.ended && 0 < player.currentTime) {\n                        clearInterval(isplaying);\n                    } else {\n                        if (!player.src) {\n                            player.src = p.src;\n                            player.load();\n                        }\n                        player.load();\n                        player.play();\n                    }\n                }, 1000);\n                this.props.tracker();\n            }\n            if (p.cmd == \"pause\") {\n                player.pause();\n            }\n        }\n\n        return componentDidUpdate;\n    }(),\n    componentWillUnmount: function () {\n        function componentWillUnmount() {\n            this.refs._player.pause();\n        }\n\n        return componentWillUnmount;\n    }(),\n    interact: function () {\n        function interact(e) {\n            this.props.updateplayer({ cmd: \"pause\" });\n        }\n\n        return interact;\n    }(),\n    render: function () {\n        function render() {\n            var p = this.props.player;\n            var src = p.src;\n            var image = this.props.ui.selectedchannelimage;\n            return _react2[\"default\"].createElement(\n                \"div\",\n                { className: \"player-container\" },\n                _react2[\"default\"].createElement(\n                    \"a\",\n                    { className: \"player-pause\", onClick: this.interact },\n                    \"\\xA0\"\n                ),\n                \" \",\n                _react2[\"default\"].createElement(\n                    \"a\",\n                    { className: \"player-pause\", onClick: this.interact },\n                    \"\\xA0\"\n                ),\n                \" \",\n                _react2[\"default\"].createElement(\n                    \"figure\",\n                    null,\n                    _react2[\"default\"].createElement(\"img\", { src: image, className: \"player-image\" })\n                ),\n                _react2[\"default\"].createElement(\n                    \"div\",\n                    { className: \"player-content\" },\n                    _react2[\"default\"].createElement(\n                        \"span\",\n                        { className: \"player-title\" },\n                        p.program.title,\n                        \" \",\n                        p.program.subtitle\n                    ),\n                    _react2[\"default\"].createElement(\"audio\", {\n                        controls: \"controls\",\n                        className: \"player\",\n                        id: \"player\",\n                        preload: \"false\",\n                        ref: \"_player\"\n                    })\n                ),\n                _react2[\"default\"].createElement(\"div\", { className: \"clear\" })\n            );\n        }\n\n        return render;\n    }()\n});\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nexports[\"default\"] = _react2[\"default\"].createClass({\n  displayName: \"Program\",\n\n  getInitialState: function () {\n    function getInitialState() {\n      return {};\n    }\n\n    return getInitialState;\n  }(),\n  programs: function () {\n    function programs() {\n      // sort the programs then show\n      var obj = {};\n      var p = this.props.programs || [];\n      for (var i = 0; i < p.length; i++) {\n        var str = p[i];\n        if (!str.archived === true) {\n          if (!obj[str.name.charAt(0).toUpperCase()]) {\n            obj[str.name.charAt(0).toUpperCase()] = [];\n          }\n          obj[str.name.charAt(0).toUpperCase()].push(str);\n        }\n      }\n\n      var items = function () {\n        function items(arr) {\n          return arr.map(function (c, n) {\n            return _react2[\"default\"].createElement(\n              \"li\",\n              { key: n },\n              _react2[\"default\"].createElement(\n                \"div\",\n                { className: \"program\" },\n                _react2[\"default\"].createElement(\"img\", { src: c.programimage, className: \"small\" }),\n                _react2[\"default\"].createElement(\n                  \"div\",\n                  { className: \"content-item\" },\n                  _react2[\"default\"].createElement(\n                    \"span\",\n                    { className: \"title\" },\n                    c.name\n                  ),\n                  _react2[\"default\"].createElement(\n                    \"p\",\n                    { className: \"description\" },\n                    c.description\n                  ),\n                  _react2[\"default\"].createElement(\"span\", { className: \"small\" })\n                )\n              )\n            );\n          });\n        }\n\n        return items;\n      }();\n      var keys = Object.keys(obj).sort();\n      var result = [];\n\n      for (var k = 0; k < keys.length; k++) {\n\n        result.push(_react2[\"default\"].createElement(\n          \"div\",\n          { key: k, className: \"program-bundle\" },\n          _react2[\"default\"].createElement(\n            \"span\",\n            { className: \"program-key\" },\n            keys[k]\n          ),\n          _react2[\"default\"].createElement(\n            \"ul\",\n            null,\n            items(obj[keys[k]])\n          )\n        ));\n      }\n\n      return result;\n    }\n\n    return programs;\n  }(),\n\n  render: function () {\n    function render() {\n      return _react2[\"default\"].createElement(\n        \"div\",\n        { className: \"program-group program-list\" },\n        this.programs()\n      );\n    }\n\n    return render;\n  }()\n});\n","\"use strict\";\n\nmodule.exports = function (channelId, channelImage, callback) {\n    var url = GLOBAL_TRACKER_URL;\n    var oReq = new XMLHttpRequest();\n    var params = \"channelId=\" + channelId + \"&channelImage=\" + channelImage;\n    oReq.open(\"POST\", url, true);\n    oReq.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n\n    oReq.onreadystatechange = function () {\n        if (oReq.readyState == 4 && oReq.status == 200) {\n            callback(oReq.responseText);\n        }\n    };\n    oReq.send(params);\n};\n","'use strict';\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _App = require('components/App');\n\nvar _App2 = _interopRequireDefault(_App);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  _reactDom2['default'].render(_react2['default'].createElement(_App2['default'], null), document.querySelector('#app'));\n});\n"]}