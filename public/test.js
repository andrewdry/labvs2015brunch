!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},a={},r={},n={}.hasOwnProperty,i=/^\.\.?(\/|$)/,s=function(e,t){for(var a,r=[],n=(i.test(t)?e+"/"+t:t).split("/"),s=0,o=n.length;s<o;s++)a=n[s],".."===a?r.pop():"."!==a&&""!==a&&r.push(a);return r.join("/")},o=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t){return function(a){var r=s(o(t),a);return e.require(r,t)}},l=function(e,t){var r=g&&g.createHot(e),n={id:e,exports:{},hot:r};return a[e]=n,t(n.exports,u(e),n),n.exports},d=function(e){return r[e]?d(r[e]):e},c=function(e,t){return d(s(o(e),t))},p=function(e,r){null==r&&(r="/");var i=d(e);if(n.call(a,i))return a[i].exports;if(n.call(t,i))return l(i,t[i]);throw new Error("Cannot find module '"+e+"' from '"+r+"'")};p.alias=function(e,t){r[t]=e};var m=/\.[^.\/]+$/,f=/\/index(\.[^\/]+)?$/,h=function(e){if(m.test(e)){var t=e.replace(m,"");n.call(r,t)&&r[t].replace(m,"")!==t+"/index"||(r[t]=e)}if(f.test(e)){var a=e.replace(f,"");n.call(r,a)||(r[a]=e)}};p.register=p.define=function(e,r){if(e&&"object"==typeof e)for(var i in e)n.call(e,i)&&p.register(i,e[i]);else t[e]=r,delete a[e],h(e)},p.list=function(){var e=[];for(var a in t)n.call(t,a)&&e.push(a);return e};var g=e._hmr&&new e._hmr(c,p,t,a);p._cache=a,p.hmr=g&&g.wrap,p.brunch=!0,e.require=p}}(),function(){var e="undefined"==typeof window?this:window;require.register("fs",function(e,t,a){a.exports={}}),require.register("net",function(e,t,a){a.exports={}}),require.register("tls",function(e,t,a){a.exports={}}),require.register("child_process",function(e,t,a){a.exports={}});var t;require.register("test/app-test.js",function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var n=t("react"),i=r(n),s=t("react-addons-test-utils"),o=r(s),u=t("../app/components/App"),l=r(u),d=t("sinon"),c=(r(d),t("chai"));describe("<App />",function(){var e;beforeEach(function(){e=o["default"].renderIntoDocument(i["default"].createElement(l["default"],null))}),it("should not have a default selected channel",function(){(0,c.expect)(e.state.ui.selectedchannelid).to.equal(null)}),describe("<Fetch />",function(){it("should get channels from SR-API through on componentWillMount",function(){var t="notCorrectUrl";e.get=function(e,a){return new Promise(function(a,r){t=e,a([])})},e.componentWillMount(),(0,c.expect)(t).not.to.equal("notCorrectUrl"),(0,c.expect)(t).to.contain("channels")}),it("should update schedule and programs if channel has changed",function(){var t=0;e.get=function(e,a){return new Promise(function(e,a){t++,e([])})},e._cache.ui.selectedchannelid=163,e.getProgramsForChannel({id:-1}),(0,c.expect)(t).to.equal(2)}),it("should not update schedule and programs if channel has not changed",function(){var t=0;e.get=function(e,a){return new Promise(function(e,a){t++,e([])})},e._cache.ui.selectedchannelid=163,e.getProgramsForChannel({id:163}),(0,c.expect)(t).to.equal(0)})}),describe("<Tracker />",function(){it("should be called when updatePlayer in <App /> is invoked",function(){var t=!1;e.postTrackToApi=function(e,a,r){t=!0},e.tracker(),(0,c.expect)(t).to.equal(!0)})})})}),require.register("test/channel-test.js",function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var n=t("react"),i=r(n),s=t("react-addons-test-utils"),o=r(s),u=t("../app/components/Channel"),l=r(u),d=t("../app/components/Guide"),c=r(d),p=t("./data/programs-data"),m=r(p),f=t("./data/schedule-data"),h=r(f),g=t("sinon"),y=(r(g),t("chai"));describe("<Channel />",function(){var e,t,a,r,n,s,u=void 0;beforeEach(function(){e=new Date(1485731e6),t={programs:m["default"],schedule:h["default"],ui:{selectedchannelid:163,selectedchannelimage:"image-163",display:"guide"}},r=!1,a=function(){function e(e){r=e}return e}(),n=function(){function e(e){s=e}return e}(),u=o["default"].renderIntoDocument(i["default"].createElement(l["default"],{programs:t.programs,schedule:t.schedule,ui:t.ui,update:a,updateplayer:n}))}),it("should toggle between <Program /> and <Guide /> and update state",function(){var e=o["default"].scryRenderedDOMComponentsWithTag(u,"a");(0,y.expect)(e.length).to.equal(2);var t=e[0],a=e[1];o["default"].Simulate.click(a),(0,y.expect)(r.ui.display).to.equal("program"),o["default"].Simulate.click(t),(0,y.expect)(r.ui.display).to.equal("guide")}),it("should by default render <Guide />",function(){var e=o["default"].findRenderedDOMComponentWithTag(u,"ul").className;(0,y.expect)(e).to.equal("guide")}),describe("<Guide />",function(){it("shoule update player state when play btn pressed",function(){var a=o["default"].renderIntoDocument(i["default"].createElement(c["default"],{schedule:t.schedule,updateplayer:n,now:e})),r=o["default"].scryRenderedDOMComponentsWithTag(a,"a"),u=r[0];(0,y.expect)(u.className).to.contain("btn"),o["default"].Simulate.click(u),(0,y.expect)(s.cmd).to.equal("play"),(0,y.expect)(s.player.channel).to.be.ok,(0,y.expect)(s.player.title).to.be.ok})}),describe("<Program />",function(){it("should render <Program /> on program link click",function(){var e=t.ui;e.display="program";var r=o["default"].renderIntoDocument(i["default"].createElement(l["default"],{programs:t.programs,schedule:t.schedule,ui:e,update:a,updateplayer:n})),s=o["default"].findRenderedDOMComponentWithClass(r,"program-list");(0,y.expect)(s).to.be.ok})})})}),require.register("test/data/programs-data.js",function(e,t,a){"use strict";a.exports=[{description:"En lokal radiokanal som lyfter Stockholm i världen och världen i Stockholm. Alltid tillsammans med dig!",programcategory:{id:3,name:"Kultur/Nöje"},email:"p5sthlm@sverigesradio.se",phone:"",programurl:"http://sverigesradio.se/sida/default.aspx?programid=2842",programimage:"http://static-cdn.sr.se/sida/images/2842/3622735_1400_1400.jpg?preset=api-default-square",programimagetemplate:"http://static-cdn.sr.se/sida/images/2842/3622735_1400_1400.jpg",programimagewide:"http://static-cdn.sr.se/sida/images/2842/3633868_2048_1152.jpg?preset=api-default-rectangle",programimagetemplatewide:"http://static-cdn.sr.se/sida/images/2842/3633868_2048_1152.jpg",socialimage:"http://static-cdn.sr.se/sida/images/2842/3622735_1400_1400.jpg?preset=api-default-square",socialimagetemplate:"http://static-cdn.sr.se/sida/images/2842/3622735_1400_1400.jpg",socialmediaplatforms:[{platform:"Facebook",platformurl:"https://www.facebook.com/pages/P5-STHLM/692062967588571?"},{platform:"Twitter",platformurl:"https://twitter.com/p5sthlm/"},{platform:"Instagram",platformurl:"https://instagram.com/p5sthlm/"}],channel:{id:2842,name:"P5 STHLM"},archived:!1,hasondemand:!0,haspod:!0,responsibleeditor:"Andreas Miller",id:2842,name:"P5 STHLM"}]}),require.register("test/data/schedule-data.js",function(e,t,a){"use strict";a.exports=[{episodeid:841807,title:"Ekonyheter",description:"Här hör du Ekots nyhetssändningar. Senaste nytt - dygnet runt, året om.",starttimeutc:"/Date(1485730800000)/",endtimeutc:"/Date(1485730920000)/",program:{id:4540,name:"Ekot"},channel:{id:2842,name:"P5 STHLM"},imageurl:"http://static-cdn.sr.se/sida/images/4540/3634468_2048_1152.jpg?preset=api-default-square",imageurltemplate:"http://static-cdn.sr.se/sida/images/4540/3634468_2048_1152.jpg"},{episodeid:841808,title:"Vaken",subtitle:"med Pamela Taivassalo och Peter Sundberg",description:"Musik, tävlingar och samtal. Ett program för dig som är vaken, helt enkelt.",starttimeutc:"/Date(1485730920000)/",endtimeutc:"/Date(1485734400000)/",program:{id:2689,name:"Vaken med P3 & P4"},channel:{id:2842,name:"P5 STHLM"},imageurl:"http://static-cdn.sr.se/sida/images/2689/38847a6d-d217-4b69-88d5-875094609a4b.jpg?preset=api-default-square",imageurltemplate:"http://static-cdn.sr.se/sida/images/2689/38847a6d-d217-4b69-88d5-875094609a4b.jpg"},{episodeid:841808,title:"Ekonyheter",description:"Här hör du Ekots nyhetssändningar. Senaste nytt - dygnet runt, året om.",starttimeutc:"/Date(1485734400000)/",endtimeutc:"/Date(1485734520000)/",program:{id:4540,name:"Ekot"},channel:{id:2842,name:"P5 STHLM"}},{episodeid:841808,title:"Vaken",subtitle:"med Pamela Taivassalo och Peter Sundberg",description:"Musik, tävlingar och samtal. Ett program för dig som är vaken, helt enkelt.",starttimeutc:"/Date(1485734520000)/",endtimeutc:"/Date(1485738000000)/",program:{id:2689,name:"Vaken med P3 & P4"},channel:{id:2842,name:"P5 STHLM"},imageurl:"http://static-cdn.sr.se/sida/images/2689/38847a6d-d217-4b69-88d5-875094609a4b.jpg?preset=api-default-square",imageurltemplate:"http://static-cdn.sr.se/sida/images/2689/38847a6d-d217-4b69-88d5-875094609a4b.jpg"}]}),require.register("test/helper.js",function(t,a,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=a("jsdom"),s=n(i),o=a("chai"),u=(n(o),s["default"].jsdom("<!DOCTYPE html><html><body></body></html>")),l=u.defaultView;e.document=u,e.window=l,Object.keys(window).forEach(function(t){t in e||(e[t]=window[t])})}),require.register("test/nav-test.js",function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var n=t("react"),i=r(n),s=t("react-addons-test-utils"),o=r(s),u=t("../app/components/Nav"),l=r(u),d=t("../app/components/NavItem"),c=r(d),p=t("sinon"),m=(r(p),t("chai"));describe("<Nav />",function(){var e,t,a,r,n,s=void 0;beforeEach(function(){e={id:"132",name:"P1",image:"image-132"},a=function(){function e(e){t=e}return e}(),r=function(){function e(e){n=e}return e}()}),it("should render list of clickable channel images",function(){var t=[];t.push(e),s=o["default"].renderIntoDocument(i["default"].createElement(l["default"],{channels:t,updateState:r}));var a=o["default"].findRenderedDOMComponentWithTag(s,"img").src;(0,m.expect)(a).to.equal("image-132");var u=o["default"].findRenderedDOMComponentWithTag(s,"a");o["default"].Simulate.click(u),(0,m.expect)(n).to.equal(t[0])}),describe("<Navitem />",function(){it("should render a dom element with className navitem",function(){s=o["default"].renderIntoDocument(i["default"].createElement(c["default"],{channel:e,updateState:a}));var t=o["default"].findRenderedDOMComponentWithClass(s,"navitem");(0,m.expect)(t).to.be.ok}),it("should call updateState with the channel properties set on component",function(){s=o["default"].renderIntoDocument(i["default"].createElement(c["default"],{channel:e,updateState:a}));var r=o["default"].findRenderedDOMComponentWithTag(s,"a");o["default"].Simulate.click(r),(0,m.expect)(t).to.equal(e)})})})}),require.register("test/player-test.js",function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var n=t("react"),i=r(n),s=t("react-addons-test-utils"),o=r(s),u=t("../app/components/Player"),l=r(u),d=t("sinon"),c=(r(d),t("chai"));describe("<Player />",function(){var e,t,a,r,n=void 0;beforeEach(function(){t={},t.player={cmd:"pause",program:{title:"title",subtitle:"subtitle"},src:"http://sverigesradio.se/topsy/direkt/132.mp3"},t.ui={selectedchannelid:132,selectedchannelimage:"132-image",display:"guide"},n=function(){function e(){}return e}(),a=function(){function e(e){r=e}return e}()}),it("shold be paused by default",function(){e=o["default"].renderIntoDocument(i["default"].createElement(l["default"],{player:t.player,ui:t.ui,updateplayer:a,tracker:n}));var r=o["default"].findRenderedDOMComponentWithTag(e,"audio");(0,c.expect)(r).to.be.ok,(0,c.expect)(r.paused).to.equal(!0)}),it("should play audio if given play command",function(){var e=o["default"].renderIntoDocument(i["default"].createElement(l["default"],{player:t.player,ui:t.ui,updateplayer:a,tracker:n}));(0,c.expect)(e.props.player.cmd).to.equal("pause"),t.player.cmd="play",e.setState(t),(0,c.expect)(e.props.player.cmd).to.equal("play")}),it("should fire tracker call if component did mount with play",function(){var e=o["default"].renderIntoDocument(i["default"].createElement(l["default"],{player:t.player,ui:t.ui,updateplayer:a,tracker:n})),r=!1;t.player.cmd="play",e.componentDidUpdate=function(e,t){r=!0},e.setState(t),(0,c.expect)(r).to.equal(!0)}),it("should pause audio if pause links are pressed",function(){t.player.cmd="play";var s=(o["default"].renderIntoDocument(i["default"].createElement(l["default"],{player:t.player,ui:t.ui,updateplayer:a,tracker:n})),o["default"].scryRenderedDOMComponentsWithTag(e,"a"));(0,c.expect)(s.length).to.equal(2),o["default"].Simulate.click(s[0]),(0,c.expect)(r).to.deep.equal({cmd:"pause"})})})}),require.alias("assert/assert.js","assert"),require.alias("buffer/index.js","buffer"),require.alias("crypto-browserify/index.js","crypto"),require.alias("events/events.js","events"),require.alias("stream-http/index.js","http"),require.alias("https-browserify/index.js","https"),require.alias("os-browserify/browser.js","os"),require.alias("path-browserify/index.js","path"),require.alias("process/browser.js","process"),require.alias("punycode/punycode.js","punycode"),require.alias("querystring-es3/index.js","querystring"),require.alias("stream-browserify/index.js","stream"),require.alias("string_decoder/index.js","string_decoder"),require.alias("util/util.js","sys"),require.alias("url/url.js","url"),require.alias("vm-browserify/index.js","vm"),t=require("process"),require.register("___globals___",function(e,t,a){})}(),require("___globals___");